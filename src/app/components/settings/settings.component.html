<app-navbar></app-navbar>

<div class="container pt-2 pb-3 bg-light">
	<h4 class="text-center">Account settings</h4>
	<p>Here you can change your account's password or remove it permanently if you don't want to use it anymore.</p>
	
	<!-- Change password section -->
	<h5>Change password</h5>
	<div class="form-group">
	  <label>New password</label>
	  <input type="password" class="form-control" placeholder="New password" [(ngModel)]="password1" name="password1">
	</div>
	<div class="form-group">
	  <label>Confirm password</label>
	  <input type="password" class="form-control" placeholder="Confirm password" [(ngModel)]="password2" name="password2">
	</div>
	<button type="submit" class="btn btn-dark" (click)="changePasswordClick($event)">Change</button>
	
	<!-- Alerts for changing password -->
	<div *ngIf="errorMessage" class="alert alert-danger mt-4">
	  {{ errorMessage }}
	</div>
	<div *ngIf="passwordChanged" class="alert alert-success mt-4">
	 	Your password has been changed.
	</div>

	<hr>

	<!-- Delete account section -->
	<h5>Delete account</h5>
	<p>Be careful! You cannot undo this.</p>
	<button type="submit" class="btn btn-danger" data-toggle="modal" data-target="#deleteAccountModal">Delete</button>
</div>

<app-footer></app-footer>


<!-- Delete Account Modal -->
<div class="modal fade" id="deleteAccountModal" tabindex="-1" role="dialog" aria-labelledby="deleteAccountModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Are you sure?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Removing an account is permanent and cannot be undone.</p>
        <p>After removing you will be logged out forever.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="removeAccountClick($event)">Confirm</button>
      </div>
    </div>
  </div>
</div>

<app-loader *ngIf="loaderNeeded"></app-loader>